"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PerformerDto = void 0;
const lodash_1 = require("lodash");
const file_1 = require("../../file");
class PerformerDto {
    constructor(data) {
        Object.assign(this, (0, lodash_1.pick)(data, [
            "_id",
            "name",
            "firstName",
            "lastName",
            "username",
            "email",
            "phone",
            "phoneCode",
            "status",
            "avatarId",
            "avatarPath",
            "coverId",
            "coverPath",
            "idVerificationId",
            "idVerification",
            "documentVerificationId",
            "idVerification",
            "documentVerification",
            "gender",
            "country",
            "city",
            "state",
            "zipcode",
            "address",
            "languages",
            "categoryIds",
            "height",
            "weight",
            "bio",
            "eyes",
            "hair",
            "butt",
            "ethnicity",
            "sexualOrientation",
            "isFreeSubscription",
            "durationFreeSubscriptionDays",
            "monthlyPrice",
            "yearlyPrice",
            "publicChatPrice",
            "stats",
            "score",
            "bankingInformation",
            "ccbillSetting",
            "paypalSetting",
            "commissionSetting",
            "blockCountries",
            "createdAt",
            "updatedAt",
            "verifiedEmail",
            "verifiedAccount",
            "verifiedDocument",
            "twitterConnected",
            "googleConnected",
            "isOnline",
            "welcomeVideoId",
            "welcomeVideoPath",
            "welcomeVideoName",
            "activateWelcomeVideo",
            "isBookMarked",
            "isSubscribed",
            "lastStreamingTime",
            "live",
            "streamingStatus",
            "dateOfBirth",
            "bodyType",
            "balance",
            "isFollowed",
            "commissionPercentage",
            "isFeatured",
            "pay2m",
        ]));
    }
    toResponse(includePrivateInfo = false, isAdmin = false) {
        const publicInfo = {
            _id: this._id,
            name: this.getName(),
            avatar: file_1.FileDto.getPublicUrl(this.avatarPath),
            cover: file_1.FileDto.getPublicUrl(this.coverPath),
            username: this.username,
            gender: this.gender,
            country: this.country,
            stats: this.stats,
            isOnline: this.isOnline,
            welcomeVideoPath: file_1.FileDto.getPublicUrl(this.welcomeVideoPath),
            welcomeVideoName: this.welcomeVideoName,
            activateWelcomeVideo: this.activateWelcomeVideo,
            verifiedAccount: this.verifiedAccount,
            isSubscribed: this.isSubscribed,
            lastStreamingTime: this.lastStreamingTime,
            live: this.live,
            streamingStatus: this.streamingStatus,
            dateOfBirth: this.dateOfBirth,
            isFreeSubscription: this.isFreeSubscription,
            durationFreeSubscriptionDays: this.durationFreeSubscriptionDays,
            monthlyPrice: this.monthlyPrice,
            yearlyPrice: this.yearlyPrice,
            publicChatPrice: this.publicChatPrice,
            height: this.height,
            weight: this.weight,
            hair: this.hair,
            butt: this.butt,
            ethnicity: this.ethnicity,
            bio: this.bio,
            eyes: this.eyes,
            bodyType: this.bodyType,
            sexualOrientation: this.sexualOrientation,
            isPerformer: true,
            isFollowed: this.isFollowed,
            isFeatured: this.isFeatured,
        };
        const privateInfo = {
            firstName: this.firstName,
            lastName: this.lastName,
            balance: this.balance,
            twitterConnected: this.twitterConnected,
            googleConnected: this.googleConnected,
            verifiedEmail: this.verifiedEmail,
            verifiedDocument: this.verifiedDocument,
            email: this.email,
            phone: this.phone,
            phoneCode: this.phoneCode,
            status: this.status,
            blockCountries: this.blockCountries,
            city: this.city,
            state: this.state,
            zipcode: this.zipcode,
            address: this.address,
            languages: this.languages,
            categoryIds: this.categoryIds,
            idVerificationId: this.idVerificationId,
            idVerification: this.idVerification,
            documentVerificationId: this.documentVerificationId,
            documentVerification: this.documentVerification,
            bankingInformation: this.bankingInformation,
            welcomeVideoId: this.welcomeVideoId,
            paypalSetting: this.paypalSetting,
            createdAt: this.createdAt,
            updatedAt: this.updatedAt,
        };
        if (isAdmin) {
            return Object.assign(Object.assign(Object.assign({}, publicInfo), privateInfo), { ccbillSetting: this.ccbillSetting, commissionPercentage: this.commissionPercentage });
        }
        if (!includePrivateInfo) {
            return publicInfo;
        }
        return Object.assign(Object.assign({}, publicInfo), privateInfo);
    }
    getName() {
        if (this.name)
            return this.name;
        return [this.firstName || "", this.lastName || ""].join(" ");
    }
    toSearchResponse() {
        return {
            _id: this._id,
            name: this.getName(),
            avatar: file_1.FileDto.getPublicUrl(this.avatarPath),
            cover: file_1.FileDto.getPublicUrl(this.coverPath),
            country: this.country,
            username: this.username,
            gender: this.gender,
            stats: this.stats,
            score: this.score,
            isOnline: this.isOnline,
            isFreeSubscription: this.isFreeSubscription,
            durationFreeSubscriptionDays: this.durationFreeSubscriptionDays,
            verifiedAccount: this.verifiedAccount,
            live: this.live,
            streamingStatus: this.streamingStatus,
            isFollowed: this.isFollowed,
            dateOfBirth: this.dateOfBirth,
            isFeatured: this.isFeatured,
        };
    }
    toPublicDetailsResponse() {
        return {
            _id: this._id,
            name: this.getName(),
            avatar: file_1.FileDto.getPublicUrl(this.avatarPath),
            cover: file_1.FileDto.getPublicUrl(this.coverPath),
            username: this.username,
            status: this.status,
            gender: this.gender,
            firstName: this.firstName,
            lastName: this.lastName,
            country: this.country,
            city: this.city,
            state: this.state,
            zipcode: this.zipcode,
            address: this.address,
            languages: this.languages,
            categoryIds: this.categoryIds,
            height: this.height,
            weight: this.weight,
            bio: this.bio,
            eyes: this.eyes,
            hair: this.hair,
            butt: this.butt,
            ethnicity: this.ethnicity,
            sexualOrientation: this.sexualOrientation,
            isFreeSubscription: this.isFreeSubscription,
            durationFreeSubscriptionDays: this.durationFreeSubscriptionDays,
            monthlyPrice: this.monthlyPrice,
            yearlyPrice: this.yearlyPrice,
            publicChatPrice: this.publicChatPrice,
            stats: this.stats,
            score: this.score,
            blockCountries: this.blockCountries,
            createdAt: this.createdAt,
            updatedAt: this.updatedAt,
            isOnline: this.isOnline,
            welcomeVideoId: this.welcomeVideoId,
            welcomeVideoPath: file_1.FileDto.getPublicUrl(this.welcomeVideoPath),
            activateWelcomeVideo: this.activateWelcomeVideo,
            verifiedAccount: this.verifiedAccount,
            isBookMarked: this.isBookMarked,
            isSubscribed: this.isSubscribed,
            lastStreamingTime: this.lastStreamingTime,
            live: this.live,
            streamingStatus: this.streamingStatus,
            dateOfBirth: this.dateOfBirth,
            bodyType: this.bodyType,
            isPerformer: true,
            isFollowed: this.isFollowed,
            isFeatured: this.isFeatured,
        };
    }
}
exports.PerformerDto = PerformerDto;
//# sourceMappingURL=performer.dto.js.map